<div class="dashboard-container">
  <div class="animated-background"></div>

  <!-- Sidebar -->
  <aside class="sidebar" [class.open]="isMenuOpen">
    <div class="sidebar-header">
      <div class="logo">
        <img src="assets/images/mmolarissee.png" width="60" height="150">
        <span>Molarisse</span>
      </div>
    </div>

    <nav class="sidebar-nav">
      <a (click)="showDashboard()" [class.active]="activeSection === 'dashboard'">
        <i class="fas fa-th-large"></i> Dashboard
      </a>
      <a (click)="showDemande()" [class.active]="activeSection === 'demande'">
        <i class="fas fa-file-alt"></i> Nouvelle Demande
      </a>
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Header -->
    <header class="main-header">
      <div class="header-left">
        <button class="menu-toggle" (click)="toggleMenu()">
          <i class="fas fa-bars"></i>
        </button>
        <div class="search-container">
          <i class="fas fa-search"></i>
          <input type="text" placeholder="Search..." />
        </div>
      </div>

      <div class="header-right">
        <div class="notification-icon">
          <i class="fas fa-envelope"></i>
          <span class="badge">1</span>
        </div>
        <div class="notification-icon">
          <i class="fas fa-bell"></i>
          <span class="badge">3</span>
        </div>
        <div class="profile-dropdown">
          <button class="profile-btn" (click)="toggleProfileDropdown()">
            <div class="avatar">
              <img [src]="getProfileImageUrl()" [alt]="userName$ | async">
            </div>
            <span>{{ userName$ | async }}</span>
            <i class="fas fa-chevron-down"></i>
          </button>
          <div class="dropdown-content" [class.show]="isProfileDropdownOpen">
            <a (click)="showProfile()"><i class="fas fa-user"></i> Profile</a>
            <a (click)="logout()"><i class="fas fa-sign-out-alt"></i> DÃ©connexion</a>
          </div>
        </div>
      </div>
    </header>

    <!-- Dashboard Content -->
    <div class="content" *ngIf="activeSection === 'dashboard'">
      <div class="welcome-banner">
        <div class="welcome-info">
          <h3>Bonjour</h3>
          <h1>{{ userName$ | async }}</h1>
          <p>Votre espace de travail aujourd'hui.</p>
        </div>
        <div class="welcome-illustration">
          <img src="assets/images/wave-pattern.png" alt="Dental Illustration">
        </div>
      </div>
    </div>

    <!-- Secretary Demand Content -->
    <div class="content" *ngIf="activeSection === 'demande'">
      <app-demande></app-demande>
    </div>

    <!-- Profile Content -->
    <div class="content" *ngIf="activeSection === 'profile'">
      <app-profile></app-profile>
    </div>
  </main>
</div>
